<div class="reset-bg">
  <!-- Barra superior con logo centrado -->
  <div class="top-bar">
    <div class="logo">
      <img src="assets/SaludYa.png" alt="Logo Salud Ya" />
    </div>
  </div>

  <!-- Contenedor blanco expandido -->
  <div class="main-content bg-white w-full mt-[-20px] py-8 px-6 rounded-t-3xl shadow-lg">
    <h1 class="text-3xl font-bold mb-4 text-[#2c7a7b] text-center">Restablece tu contraseña</h1>
    <p class="text-center text-gray-700 mb-6">Por favor, ingresa tu nueva contraseña a continuación.</p>

    <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-4">
      <!-- Nueva contraseña -->
      <div>
        <label for="new-password" class="block text-orange-500 font-bold mb-1">Nueva contraseña</label>
        <input
          type="password"
          id="new-password"
          formControlName="password"
          class="w-full px-4 py-2 border rounded-lg bg-gray-100 focus:outline-none focus:ring-2 focus:ring-orange-400"
          [ngClass]="{ 'border-red-500': form.get('password')?.invalid && form.get('password')?.touched }"
        />
        <div *ngIf="form.get('password')?.invalid && form.get('password')?.touched" class="text-red-500 text-sm mt-1">
          La contraseña debe tener al menos 8 caracteres, una mayúscula y un número.
        </div>
      </div>

      <!-- Requisitos -->
      <div class="requisitos text-gray-600 text-sm">
        <p>Tu contraseña debe contener al menos:</p>
        <ul class="list-disc list-inside">
          <li>8 caracteres</li>
          <li>1 mayúscula</li>
          <li>1 número</li>
        </ul>
      </div>

      <!-- Repetir nueva contraseña -->
      <div>
        <label for="repeat-password" class="block text-orange-500 font-bold mb-1">Repetir nueva contraseña</label>
        <input
          type="password"
          id="repeat-password"
          formControlName="password_confirmation"
          class="w-full px-4 py-2 border rounded-lg bg-gray-100 focus:outline-none focus:ring-2 focus:ring-orange-400"
          [ngClass]="{ 'border-red-500': form.hasError('passwordsMismatch') && form.get('password_confirmation')?.touched }"
        />
        <div *ngIf="form.hasError('passwordsMismatch') && form.get('password_confirmation')?.touched" class="text-red-500 text-sm mt-1">
          Las contraseñas no coinciden.
        </div>
      </div>

      <!-- Botón centrado -->
      <div class="boton text-center">
        <button
          type="submit"
          [disabled]="form.invalid"
          class="bg-orange-500 text-white font-bold py-2 px-6 rounded-full hover:bg-orange-600 disabled:bg-gray-400 disabled:cursor-not-allowed"
        >
          Cambiar contraseña
        </button>
      </div>
    </form>

    <!-- Soporte -->
    <div class="soporte text-center text-sm text-gray-600 mt-6">
      Si aún necesitas ayuda, contacta a
      <a href="mailto:soporte@saludya.cl" class="text-orange-500 font-bold hover:underline">Soporte de Salud Ya</a>
    </div>
  </div>
</div>
